<<<<<<< HEAD
2024-11-01 13:45:51,867 INFO: Auth routes: ['/auth/login', '/auth/logout', '/auth/register'] [in /home/pol/dev/karhuno/app/__init__.py:63]
2024-11-01 13:45:52,922 INFO: Registered main blueprint [in /home/pol/dev/karhuno/app/__init__.py:67]
2024-11-01 13:45:52,922 INFO: Main routes: ['/', '/clients', '/client/new', '/client/<int:id>', '/client/<int:id>/search', '/client/<int:id>/search/run', '/task/<int:task_id>', '/task/<int:task_id>/status', '/client/<int:id>/prompts', '/client/<int:id>/prompt/new', '/prompt/<int:id>', '/task/<int:task_id>/results', '/task/<int:task_id>/export', '/debug'] [in /home/pol/dev/karhuno/app/__init__.py:68]
2024-11-01 13:45:54,006 INFO: Karhuno startup [in /home/pol/dev/karhuno/app/__init__.py:35]
2024-11-01 13:45:54,047 INFO: Registered auth blueprint [in /home/pol/dev/karhuno/app/__init__.py:62]
2024-11-01 13:45:54,047 INFO: Auth routes: ['/auth/login', '/auth/logout', '/auth/register'] [in /home/pol/dev/karhuno/app/__init__.py:63]
2024-11-01 13:45:55,004 INFO: Registered main blueprint [in /home/pol/dev/karhuno/app/__init__.py:67]
2024-11-01 13:45:55,004 INFO: Main routes: ['/', '/clients', '/client/new', '/client/<int:id>', '/client/<int:id>/search', '/client/<int:id>/search/run', '/task/<int:task_id>', '/task/<int:task_id>/status', '/client/<int:id>/prompts', '/client/<int:id>/prompt/new', '/prompt/<int:id>', '/task/<int:task_id>/results', '/task/<int:task_id>/export', '/debug'] [in /home/pol/dev/karhuno/app/__init__.py:68]
2024-11-01 13:49:15,800 INFO: Accessing index page [in /home/pol/dev/karhuno/app/main/routes.py:18]
2024-11-01 13:49:30,426 INFO: Karhuno startup [in /home/pol/dev/karhuno/app/__init__.py:35]
2024-11-01 13:49:30,453 INFO: Registered auth blueprint [in /home/pol/dev/karhuno/app/__init__.py:62]
2024-11-01 13:49:30,453 INFO: Auth routes: ['/auth/login', '/auth/logout', '/auth/register'] [in /home/pol/dev/karhuno/app/__init__.py:63]
2024-11-01 13:49:33,521 INFO: Registered main blueprint [in /home/pol/dev/karhuno/app/__init__.py:67]
2024-11-01 13:49:33,522 INFO: Main routes: ['/', '/clients', '/client/new', '/client/<int:id>', '/client/<int:id>/search', '/client/<int:id>/search/run', '/task/<int:task_id>', '/task/<int:task_id>/status', '/client/<int:id>/prompts', '/client/<int:id>/prompt/new', '/prompt/<int:id>', '/task/<int:task_id>/results', '/task/<int:task_id>/export', '/debug'] [in /home/pol/dev/karhuno/app/__init__.py:68]
2024-11-01 13:49:34,189 INFO: Karhuno startup [in /home/pol/dev/karhuno/app/__init__.py:35]
2024-11-01 13:49:34,282 INFO: Registered auth blueprint [in /home/pol/dev/karhuno/app/__init__.py:62]
2024-11-01 13:49:34,286 INFO: Auth routes: ['/auth/login', '/auth/logout', '/auth/register'] [in /home/pol/dev/karhuno/app/__init__.py:63]
2024-11-01 13:49:35,723 INFO: Registered main blueprint [in /home/pol/dev/karhuno/app/__init__.py:67]
2024-11-01 13:49:35,724 INFO: Main routes: ['/', '/clients', '/client/new', '/client/<int:id>', '/client/<int:id>/search', '/client/<int:id>/search/run', '/task/<int:task_id>', '/task/<int:task_id>/status', '/client/<int:id>/prompts', '/client/<int:id>/prompt/new', '/prompt/<int:id>', '/task/<int:task_id>/results', '/task/<int:task_id>/export', '/debug'] [in /home/pol/dev/karhuno/app/__init__.py:68]
2024-11-01 13:49:36,579 INFO: Karhuno startup [in /home/pol/dev/karhuno/app/__init__.py:35]
2024-11-01 13:49:36,618 INFO: Registered auth blueprint [in /home/pol/dev/karhuno/app/__init__.py:62]
2024-11-01 13:49:36,618 INFO: Auth routes: ['/auth/login', '/auth/logout', '/auth/register'] [in /home/pol/dev/karhuno/app/__init__.py:63]
2024-11-01 13:49:37,505 INFO: Registered main blueprint [in /home/pol/dev/karhuno/app/__init__.py:67]
2024-11-01 13:49:37,506 INFO: Main routes: ['/', '/clients', '/client/new', '/client/<int:id>', '/client/<int:id>/search', '/client/<int:id>/search/run', '/task/<int:task_id>', '/task/<int:task_id>/status', '/client/<int:id>/prompts', '/client/<int:id>/prompt/new', '/prompt/<int:id>', '/task/<int:task_id>/results', '/task/<int:task_id>/export', '/debug'] [in /home/pol/dev/karhuno/app/__init__.py:68]
2024-11-01 13:51:11,498 INFO: Karhuno startup [in /home/pol/dev/karhuno/app/__init__.py:35]
2024-11-01 13:51:11,533 INFO: Registered auth blueprint [in /home/pol/dev/karhuno/app/__init__.py:62]
2024-11-01 13:51:11,534 INFO: Auth routes: ['/auth/login', '/auth/logout', '/auth/register'] [in /home/pol/dev/karhuno/app/__init__.py:63]
2024-11-01 13:51:12,775 INFO: Registered main blueprint [in /home/pol/dev/karhuno/app/__init__.py:67]
2024-11-01 13:51:12,776 INFO: Main routes: ['/', '/clients', '/client/new', '/client/<int:id>', '/client/<int:id>/search', '/client/<int:id>/search/run', '/task/<int:task_id>', '/task/<int:task_id>/status', '/client/<int:id>/prompts', '/client/<int:id>/prompt/new', '/prompt/<int:id>', '/task/<int:task_id>/results', '/task/<int:task_id>/export', '/debug'] [in /home/pol/dev/karhuno/app/__init__.py:68]
2024-11-01 13:51:17,281 INFO: Karhuno startup [in /home/pol/dev/karhuno/app/__init__.py:35]
2024-11-01 13:51:17,313 INFO: Registered auth blueprint [in /home/pol/dev/karhuno/app/__init__.py:62]
2024-11-01 13:51:17,314 INFO: Auth routes: ['/auth/login', '/auth/logout', '/auth/register'] [in /home/pol/dev/karhuno/app/__init__.py:63]
2024-11-01 13:51:18,191 INFO: Registered main blueprint [in /home/pol/dev/karhuno/app/__init__.py:67]
2024-11-01 13:51:18,191 INFO: Main routes: ['/', '/clients', '/client/new', '/client/<int:id>', '/client/<int:id>/search', '/client/<int:id>/search/run', '/task/<int:task_id>', '/task/<int:task_id>/status', '/client/<int:id>/prompts', '/client/<int:id>/prompt/new', '/prompt/<int:id>', '/task/<int:task_id>/results', '/task/<int:task_id>/export', '/debug'] [in /home/pol/dev/karhuno/app/__init__.py:68]
2024-11-01 13:51:18,981 INFO: Karhuno startup [in /home/pol/dev/karhuno/app/__init__.py:35]
2024-11-01 13:51:19,014 INFO: Registered auth blueprint [in /home/pol/dev/karhuno/app/__init__.py:62]
2024-11-01 13:51:19,014 INFO: Auth routes: ['/auth/login', '/auth/logout', '/auth/register'] [in /home/pol/dev/karhuno/app/__init__.py:63]
2024-11-01 13:51:19,793 INFO: Registered main blueprint [in /home/pol/dev/karhuno/app/__init__.py:67]
2024-11-01 13:51:19,794 INFO: Main routes: ['/', '/clients', '/client/new', '/client/<int:id>', '/client/<int:id>/search', '/client/<int:id>/search/run', '/task/<int:task_id>', '/task/<int:task_id>/status', '/client/<int:id>/prompts', '/client/<int:id>/prompt/new', '/prompt/<int:id>', '/task/<int:task_id>/results', '/task/<int:task_id>/export', '/debug'] [in /home/pol/dev/karhuno/app/__init__.py:68]
2024-11-01 13:51:20,591 INFO: Karhuno startup [in /home/pol/dev/karhuno/app/__init__.py:35]
2024-11-01 13:51:20,621 INFO: Registered auth blueprint [in /home/pol/dev/karhuno/app/__init__.py:62]
2024-11-01 13:51:20,622 INFO: Auth routes: ['/auth/login', '/auth/logout', '/auth/register'] [in /home/pol/dev/karhuno/app/__init__.py:63]
2024-11-01 13:51:21,427 INFO: Registered main blueprint [in /home/pol/dev/karhuno/app/__init__.py:67]
2024-11-01 13:51:21,428 INFO: Main routes: ['/', '/clients', '/client/new', '/client/<int:id>', '/client/<int:id>/search', '/client/<int:id>/search/run', '/task/<int:task_id>', '/task/<int:task_id>/status', '/client/<int:id>/prompts', '/client/<int:id>/prompt/new', '/prompt/<int:id>', '/task/<int:task_id>/results', '/task/<int:task_id>/export', '/debug'] [in /home/pol/dev/karhuno/app/__init__.py:68]
2024-11-01 13:53:13,924 INFO: Karhuno startup [in /home/pol/dev/karhuno/app/__init__.py:35]
2024-11-01 13:53:13,951 INFO: Registered auth blueprint [in /home/pol/dev/karhuno/app/__init__.py:62]
2024-11-01 13:53:13,952 INFO: Auth routes: ['/auth/login', '/auth/logout', '/auth/register'] [in /home/pol/dev/karhuno/app/__init__.py:63]
2024-11-01 13:53:14,815 INFO: Registered main blueprint [in /home/pol/dev/karhuno/app/__init__.py:67]
2024-11-01 13:53:14,816 INFO: Main routes: ['/', '/clients', '/client/new', '/client/<int:id>', '/client/<int:id>/search', '/client/<int:id>/search/run', '/task/<int:task_id>', '/task/<int:task_id>/status', '/client/<int:id>/prompts', '/client/<int:id>/prompt/new', '/prompt/<int:id>', '/task/<int:task_id>/results', '/task/<int:task_id>/export', '/debug'] [in /home/pol/dev/karhuno/app/__init__.py:68]
2024-11-01 13:53:15,793 INFO: Karhuno startup [in /home/pol/dev/karhuno/app/__init__.py:35]
2024-11-01 13:53:15,830 INFO: Registered auth blueprint [in /home/pol/dev/karhuno/app/__init__.py:62]
2024-11-01 13:53:15,830 INFO: Auth routes: ['/auth/login', '/auth/logout', '/auth/register'] [in /home/pol/dev/karhuno/app/__init__.py:63]
2024-11-01 13:53:16,723 INFO: Registered main blueprint [in /home/pol/dev/karhuno/app/__init__.py:67]
2024-11-01 13:53:16,724 INFO: Main routes: ['/', '/clients', '/client/new', '/client/<int:id>', '/client/<int:id>/search', '/client/<int:id>/search/run', '/task/<int:task_id>', '/task/<int:task_id>/status', '/client/<int:id>/prompts', '/client/<int:id>/prompt/new', '/prompt/<int:id>', '/task/<int:task_id>/results', '/task/<int:task_id>/export', '/debug'] [in /home/pol/dev/karhuno/app/__init__.py:68]
2024-11-01 13:53:17,502 INFO: Karhuno startup [in /home/pol/dev/karhuno/app/__init__.py:35]
2024-11-01 13:53:17,536 INFO: Registered auth blueprint [in /home/pol/dev/karhuno/app/__init__.py:62]
2024-11-01 13:53:17,537 INFO: Auth routes: ['/auth/login', '/auth/logout', '/auth/register'] [in /home/pol/dev/karhuno/app/__init__.py:63]
2024-11-01 13:53:18,291 INFO: Registered main blueprint [in /home/pol/dev/karhuno/app/__init__.py:67]
2024-11-01 13:53:18,292 INFO: Main routes: ['/', '/clients', '/client/new', '/client/<int:id>', '/client/<int:id>/search', '/client/<int:id>/search/run', '/task/<int:task_id>', '/task/<int:task_id>/status', '/client/<int:id>/prompts', '/client/<int:id>/prompt/new', '/prompt/<int:id>', '/task/<int:task_id>/results', '/task/<int:task_id>/export', '/debug'] [in /home/pol/dev/karhuno/app/__init__.py:68]
2024-11-01 13:54:56,723 INFO: Karhuno startup [in /home/pol/dev/karhuno/app/__init__.py:35]
2024-11-01 13:54:56,758 INFO: Registered auth blueprint [in /home/pol/dev/karhuno/app/__init__.py:62]
=======
2024-11-04 15:33:52,335 ERROR: Exception on / [GET] [in /home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/flask/app.py:838]
Traceback (most recent call last):
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1625, in _object_value_for_elem
    return self._object_lookup[elem]
           ~~~~~~~~~~~~~~~~~~~^^^^^^
KeyError: 'client'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/flask_login/utils.py", line 284, in decorated_view
    elif not current_user.is_authenticated:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/werkzeug/local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/werkzeug/local.py", line 526, in _get_current_object
    return get_name(local())
                    ^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/flask_login/utils.py", line 25, in <lambda>
    current_user = LocalProxy(lambda: _get_user())
                                      ^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/flask_login/utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 364, in _load_user
    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/app/models/user.py", line 25, in load_user
    return User.query.get(int(id))
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in get
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/sqlalchemy/util/deprecations.py", line 386, in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 1127, in get
    return self._get_impl(ident, loading.load_on_pk_identity)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 1136, in _get_impl
    return self.session._get_impl(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 705, in load_on_pk_identity
    return result.one()
           ^^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1810, in one
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1673, in _fetchone_impl
    return self._real_result._fetchone_impl(hard_close=hard_close)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 219, in chunks
    fetch = cursor._raw_all_rows()
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            ^^^^^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1745, in process
    value = self._object_value_for_elem(value)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kim/karhuno github pull/karhuno/venv/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1627, in _object_value_for_elem
    raise LookupError(
LookupError: 'client' is not among the defined enum values. Enum name: role. Possible values: CLIENT, ANALYST
2024-11-04 16:08:02,182 INFO: Karhuno startup [in /home/kim/karhuno github pull/karhuno/app/__init__.py:34]
2024-11-04 16:08:02,240 INFO: Registered auth blueprint [in /home/kim/karhuno github pull/karhuno/app/__init__.py:49]
2024-11-04 16:08:02,241 INFO: Auth routes: ['/auth/login', '/auth/logout', '/auth/register'] [in /home/kim/karhuno github pull/karhuno/app/__init__.py:50]
2024-11-04 16:08:03,347 INFO: Registered main blueprint [in /home/kim/karhuno github pull/karhuno/app/__init__.py:54]
2024-11-04 16:08:03,347 INFO: Main routes: ['/', '/clients', '/client/new', '/client/<int:id>', '/client/<int:id>/search', '/client/<int:id>/search/run', '/task/<int:task_id>', '/task/<int:task_id>/status', '/client/<int:id>/prompts', '/client/<int:id>/prompt/new', '/prompt/<int:id>', '/task/<int:task_id>/results', '/task/<int:task_id>/export', '/debug'] [in /home/kim/karhuno github pull/karhuno/app/__init__.py:55]
2024-11-04 16:09:22,277 INFO: Karhuno startup [in /home/kim/karhuno github pull/karhuno/app/__init__.py:34]
2024-11-04 16:09:22,330 INFO: Registered auth blueprint [in /home/kim/karhuno github pull/karhuno/app/__init__.py:49]
2024-11-04 16:09:22,331 INFO: Auth routes: ['/auth/login', '/auth/logout', '/auth/register'] [in /home/kim/karhuno github pull/karhuno/app/__init__.py:50]
2024-11-04 16:09:23,432 INFO: Registered main blueprint [in /home/kim/karhuno github pull/karhuno/app/__init__.py:54]
2024-11-04 16:09:23,432 INFO: Main routes: ['/', '/clients', '/client/new', '/client/<int:id>', '/client/<int:id>/search', '/client/<int:id>/search/run', '/task/<int:task_id>', '/task/<int:task_id>/status', '/client/<int:id>/prompts', '/client/<int:id>/prompt/new', '/prompt/<int:id>', '/task/<int:task_id>/results', '/task/<int:task_id>/export', '/debug'] [in /home/kim/karhuno github pull/karhuno/app/__init__.py:55]
2024-11-04 16:09:36,881 INFO: Karhuno startup [in /home/kim/karhuno github pull/karhuno/app/__init__.py:34]
2024-11-04 16:09:36,934 INFO: Registered auth blueprint [in /home/kim/karhuno github pull/karhuno/app/__init__.py:49]
2024-11-04 16:09:36,935 INFO: Auth routes: ['/auth/login', '/auth/logout', '/auth/register'] [in /home/kim/karhuno github pull/karhuno/app/__init__.py:50]
2024-11-04 16:09:38,068 INFO: Registered main blueprint [in /home/kim/karhuno github pull/karhuno/app/__init__.py:54]
2024-11-04 16:09:38,068 INFO: Main routes: ['/', '/clients', '/client/new', '/client/<int:id>', '/client/<int:id>/search', '/client/<int:id>/search/run', '/task/<int:task_id>', '/task/<int:task_id>/status', '/client/<int:id>/prompts', '/client/<int:id>/prompt/new', '/prompt/<int:id>', '/task/<int:task_id>/results', '/task/<int:task_id>/export', '/debug'] [in /home/kim/karhuno github pull/karhuno/app/__init__.py:55]
>>>>>>> 7897752 (The local changes)
